window.Commlink=function(n){if(void 0===n)n=window;else if("function"!=typeof n.postMessage)return void console.error("Commlinks plugin: The first argument passed to the Commlink function must be a Window interface instance.");this.window=n,this.send=function(n,i,e){e||(e="*"),i||(i={}),i._message=n,this.window.postMessage(i,e)}},window.Commlinks={events:{},init:function(){let n=this;window.addEventListener("message",function(i){n.fireListeners(i.data._message,i)})},on:function(n,i){void 0===this.events[n]&&(this.events[n]=[]),this.events[n].push(i)},fireListeners:function(n,i){void 0!==this.events[n]&&this.events[n].forEach(function(n){n(i.data,i)})}},window.Commlinks.init();