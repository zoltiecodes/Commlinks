function Commlink(n){if(void 0===n)n=window;else if("function"!=typeof n.postMessage)return void console.error("Commlinks plugin: The first argument passed to the Commlink function must be a Window interface instance.");this.window=n,this.send=function(n,e,i){i||(i="*"),e||(e={}),e._message=n,this.window.postMessage(e,i)}}let Commlinks={events:{},init:function(){let n=this;window.addEventListener("message",function(e){n.fireListeners(e.data._message,e)})},on:function(n,e){void 0===this.events[n]&&(this.events[n]=[]),this.events[n].push(e)},fireListeners:function(n,e){void 0!==this.events[n]&&this.events[n].forEach(function(n){n(e.data,e)})}};Commlinks.init();